module.exports=[78130,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944);function e(){let a=(0,d.useRouter)(),[e,f]=(0,c.useState)([]),[g,h]=(0,c.useState)(!0),[i,j]=(0,c.useState)("");async function k(){let b=await fetch("/api/admin/users");403===b.status?a.push("/login"):(f((await b.json()).users||[]),h(!1))}async function l(a,b){j("");let c=await fetch("/api/admin/users",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:a,role:b})}),d=await c.json();c.ok?k():j(d.error)}(0,c.useEffect)(()=>{k()},[]);let m={admin:"bg-red-100 text-red-700",moderator:"bg-amber-100 text-amber-700",user:"bg-gray-100 text-gray-600"};return g?(0,b.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,b.jsx)("p",{className:"text-gray-400",children:"Loading users..."})}):(0,b.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-brg mb-6",children:"User Management"}),i&&(0,b.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6 text-sm",children:i}),(0,b.jsx)("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:(0,b.jsxs)("table",{className:"w-full text-left",children:[(0,b.jsx)("thead",{className:"bg-brg text-cream",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-sm font-semibold",children:"User"}),(0,b.jsx)("th",{className:"px-6 py-3 text-sm font-semibold",children:"Email"}),(0,b.jsx)("th",{className:"px-6 py-3 text-sm font-semibold",children:"Role"}),(0,b.jsx)("th",{className:"px-6 py-3 text-sm font-semibold",children:"Joined"}),(0,b.jsx)("th",{className:"px-6 py-3 text-sm font-semibold",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"divide-y divide-gray-100",children:e.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-cream/30",children:[(0,b.jsxs)("td",{className:"px-6 py-4",children:[(0,b.jsx)("div",{className:"font-medium text-gray-800",children:a.display_name}),(0,b.jsxs)("div",{className:"text-gray-400 text-sm",children:["@",a.username]})]}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-600 text-sm",children:a.email}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsx)("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${m[a.role]||m.user}`,children:a.role})}),(0,b.jsx)("td",{className:"px-6 py-4 text-gray-400 text-sm",children:new Date(a.created_at).toLocaleDateString()}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("select",{value:a.role,onChange:b=>l(a.id,b.target.value),className:"text-sm border border-gray-300 rounded-lg px-2 py-1 outline-none focus:ring-2 focus:ring-brg text-gray-700",children:[(0,b.jsx)("option",{value:"user",children:"User"}),(0,b.jsx)("option",{value:"moderator",children:"Moderator"}),(0,b.jsx)("option",{value:"admin",children:"Admin"})]})})]},a.id))})]})})]})}a.s(["default",()=>e])}];

//# sourceMappingURL=src_app_admin_users_page_tsx_aef2c918._.js.map