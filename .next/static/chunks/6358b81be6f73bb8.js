(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,48268,e=>{"use strict";var s=e.i(43476),t=e.i(71645),a=e.i(18566);function r(){let e=(0,a.useRouter)(),[r,l]=(0,t.useState)([]),[d,i]=(0,t.useState)(!0),[n,x]=(0,t.useState)("");async function o(){let s=await fetch("/api/admin/users");403===s.status?e.push("/login"):(l((await s.json()).users||[]),i(!1))}async function c(e,s){x("");let t=await fetch("/api/admin/users",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,role:s})}),a=await t.json();t.ok?o():x(a.error)}(0,t.useEffect)(()=>{o()},[]);let m={admin:"bg-red-100 text-red-700",moderator:"bg-amber-100 text-amber-700",user:"bg-gray-100 text-gray-600"};return d?(0,s.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:(0,s.jsx)("p",{className:"text-gray-400",children:"Loading users..."})}):(0,s.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-brg mb-6",children:"User Management"}),n&&(0,s.jsx)("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6 text-sm",children:n}),(0,s.jsx)("div",{className:"bg-white rounded-xl shadow overflow-hidden",children:(0,s.jsxs)("table",{className:"w-full text-left",children:[(0,s.jsx)("thead",{className:"bg-brg text-cream",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"px-6 py-3 text-sm font-semibold",children:"User"}),(0,s.jsx)("th",{className:"px-6 py-3 text-sm font-semibold",children:"Email"}),(0,s.jsx)("th",{className:"px-6 py-3 text-sm font-semibold",children:"Role"}),(0,s.jsx)("th",{className:"px-6 py-3 text-sm font-semibold",children:"Joined"}),(0,s.jsx)("th",{className:"px-6 py-3 text-sm font-semibold",children:"Actions"})]})}),(0,s.jsx)("tbody",{className:"divide-y divide-gray-100",children:r.map(e=>(0,s.jsxs)("tr",{className:"hover:bg-cream/30",children:[(0,s.jsxs)("td",{className:"px-6 py-4",children:[(0,s.jsx)("div",{className:"font-medium text-gray-800",children:e.display_name}),(0,s.jsxs)("div",{className:"text-gray-400 text-sm",children:["@",e.username]})]}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-600 text-sm",children:e.email}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsx)("span",{className:`text-xs font-medium px-2 py-0.5 rounded-full ${m[e.role]||m.user}`,children:e.role})}),(0,s.jsx)("td",{className:"px-6 py-4 text-gray-400 text-sm",children:new Date(e.created_at).toLocaleDateString()}),(0,s.jsx)("td",{className:"px-6 py-4",children:(0,s.jsxs)("select",{value:e.role,onChange:s=>c(e.id,s.target.value),className:"text-sm border border-gray-300 rounded-lg px-2 py-1 outline-none focus:ring-2 focus:ring-brg text-gray-700",children:[(0,s.jsx)("option",{value:"user",children:"User"}),(0,s.jsx)("option",{value:"moderator",children:"Moderator"}),(0,s.jsx)("option",{value:"admin",children:"Admin"})]})})]},e.id))})]})})]})}e.s(["default",()=>r])}]);